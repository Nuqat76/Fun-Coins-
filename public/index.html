<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TikTok Coins Versand</title>

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #000;
      color: #111;
    }

    .hidden {
      display: none !important;
    }

    /* ---------- LOGIN-SCREEN MIT STARTBILD ---------- */

    #loginScreen {
      position: relative;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .login-bg {
      position: fixed;
      inset: 0;
      background-image: url("https://raw.githubusercontent.com/Nuqat76/Fun-Coins-/refs/heads/main/public/file_000000007518720aa89d447f28a06907.png");
      background-size: cover;
      background-position: center;
      z-index: -1;
    }

    /* kleiner Loginblock oben links, halb durchsichtig */

    .login-box {
      position: absolute;
      top: 18px;
      left: 18px;
      background: rgba(0, 0, 0, 0.55);
      color: #fff;
      padding: 8px 10px;
      border-radius: 10px;
      width: 260px;
      backdrop-filter: blur(3px);
    }

    .login-input {
      width: 100%;
      padding: 7px 9px;
      border-radius: 7px;
      border: none;
      margin-bottom: 6px;
      font-size: 13px;
    }

    .login-input::placeholder {
      color: #777;
    }

    .login-btn {
      width: 100%;
      padding: 8px 9px;
      border-radius: 999px;
      border: none;
      font-size: 13px;
      font-weight: 600;
      background: linear-gradient(90deg, #ff375f, #ff8248);
      color: #fff;
      cursor: pointer;
    }

    .login-btn:active {
      transform: translateY(1px);
    }

    .login-error {
      margin-top: 4px;
      font-size: 11px;
      color: #ff8a8a;
      min-height: 12px;
    }

    /* ---------- HAUPTSEITE / COINS (alter Look) ---------- */

    #appScreen {
      min-height: 100vh;
      background: #f5f5f7;
      padding: 16px 16px 32px;
    }

    .page {
      max-width: 480px;
      margin: 0 auto;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 12px;
    }

    .title-block h1 {
      font-size: 18px;
      font-weight: 700;
    }

    .title-block p {
      font-size: 12px;
      color: #666;
      margin-top: 2px;
    }

    .balance-block {
      text-align: right;
    }

    .balance-label {
      font-size: 12px;
      color: #777;
    }

    .balance-value {
      font-size: 16px;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 6px;
    }

    .coin-dot {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #ffeaa7, #f1c40f);
      box-shadow: 0 0 0 1px rgba(0,0,0,0.12);
    }

    .card {
      background: #ffffff;
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.06);
      margin-bottom: 16px;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .card-sub {
      font-size: 13px;
      color: #777;
      margin-bottom: 12px;
    }

    .username-label {
      font-size: 13px;
      font-weight: 600;
      margin-top: 8px;
      margin-bottom: 6px;
    }

    .username-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 12px;
    }

    .username-prefix {
      font-size: 14px;
      padding: 10px;
      background: #f5f5f7;
      border-radius: 10px;
      color: #777;
    }

    .username-input {
      flex: 1;
      border-radius: 10px;
      border: 1px solid #ddd;
      padding: 10px 12px;
      font-size: 14px;
      background: #fafafa;
    }

    .username-input:focus {
      outline: none;
      border-color: #ff4664;
      box-shadow: 0 0 0 1px rgba(255,70,100,0.16);
      background: #fff;
    }

    .coins-title {
      font-size: 13px;
      font-weight: 600;
      margin: 6px 0 8px;
    }

    .coins-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    .coin-option {
      background: #fafafa;
      border-radius: 14px;
      padding: 10px 6px;
      border: 1px solid #e5e5ea;
      text-align: center;
      cursor: pointer;
      transition: all 0.15s ease-out;
    }

    .coin-option.selected {
      border-color: #ff4664;
      background: #fff2f5;
      box-shadow: 0 0 0 1px rgba(255, 70, 100, 0.3);
    }

    .coin-icon {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff3c4, #f1c40f);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      margin: 0 auto 4px;
    }

    .coin-amount {
      font-weight: 600;
      font-size: 14px;
    }

    .coin-price {
      font-size: 11px;
      color: #777;
    }

    .custom-coins-label {
      margin-top: 10px;
      font-size: 12px;
      font-weight: 500;
    }

    .custom-coins-input {
      margin-top: 4px;
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 10px;
      background: #fafafa;
      font-size: 14px;
    }

    .primary-btn {
      margin-top: 14px;
      width: 100%;
      border-radius: 999px;
      padding: 14px;
      color: white;
      background: linear-gradient(90deg,#ff4664,#ff884b);
      border: none;
      font-weight: 700;
      font-size: 15px;
      cursor: pointer;
    }

    .primary-btn:active {
      transform: translateY(1px);
    }

    .transfer-status {
      margin-top: 8px;
      font-size: 12px;
      color: #666;
    }

    /* ---------- ZAHLUNGSMODAL ---------- */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.55);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal {
      background: #ffffff;
      border-radius: 20px;
      padding: 18px 20px;
      width: 90%;
      max-width: 360px;
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.25);
      text-align: center;
    }

    .loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
    }

    .spinner {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      border: 3px solid #f0f0f0;
      border-top-color: #ff4a5f;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .modal-check {
      width: 54px;
      height: 54px;
      border-radius: 999px;
      background: #e6f7ec;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 10px;
      font-size: 26px;
      color: #0a9b4b;
    }

    .modal-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .modal-text {
      font-size: 13px;
      color: #555;
      margin-bottom: 8px;
    }

    .modal-time {
      font-size: 26px;
      font-weight: 700;
      margin-bottom: 6px;
      letter-spacing: 2px;
    }

    .modal-detail {
      font-size: 13px;
      color: #555;
      margin-bottom: 8px;
    }

    .payment-row {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: #f5f5f7;
      font-size: 12px;
      color: #444;
    }

    .paypal-logo {
      width: 18px;
      height: 18px;
      border-radius: 4px;
      background: #003087;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      color: #fff;
    }
  </style>
</head>

<body>
  <!-- LOGIN mit Startbild (nur E-Mail + Passwort, klein) -->
  <div id="loginScreen">
    <div class="login-bg"></div>

    <div class="login-box">
      <input
        id="loginEmail"
        class="login-input"
        type="email"
        placeholder="E-Mail-Adresse"
        autocomplete="off"
      />
      <input
        id="loginPassword"
        class="login-input"
        type="password"
        placeholder="Passwort"
        autocomplete="off"
      />

      <button class="login-btn" onclick="handleLogin()">Login</button>
      <div id="loginError" class="login-error"></div>
    </div>
  </div>

  <!-- HAUPTSEITE wie vorher -->
  <div id="appScreen" class="hidden">
    <div class="page">
      <header>
        <div class="title-block">
          <h1>TikTok Coins Versand</h1>
          <p>Herzlich willkommen auf TikTok Coins Versand</p>
        </div>
        <div class="balance-block">
          <div class="balance-label">Münzguthaben</div>
          <div class="balance-value">
            <span id="balanceValue">8.000.000</span>
            <span class="coin-dot"></span>
          </div>
        </div>
      </header>

      <!-- Card Benutzername + Coins -->
      <div class="card">
        <div class="card-title">Benutzername</div>
        <div class="card-sub">Gib den TikTok-Nutzernamen ein.</div>

        <div class="username-label">@ Benutzername</div>
        <div class="username-row">
          <div class="username-prefix">@</div>
          <input id="usernameInput" class="username-input" placeholder="z.B. dein_name" />
        </div>

        <div class="coins-title">Coins-Pakete auswählen</div>

        <div class="coins-grid" id="coinsGrid">
          <div class="coin-option selected" data-coins="60" data-price="0,87 €">
            <div class="coin-icon"></div>
            <div class="coin-amount">60 Coins</div>
            <div class="coin-price">0,87 €</div>
          </div>

          <div class="coin-option" data-coins="139" data-price="2,00 €">
            <div class="coin-icon"></div>
            <div class="coin-amount">139 Coins</div>
            <div class="coin-price">2,00 €</div>
          </div>

          <div class="coin-option" data-coins="630" data-price="9,05 €">
            <div class="coin-icon"></div>
            <div class="coin-amount">630 Coins</div>
            <div class="coin-price">9,05 €</div>
          </div>

          <div class="coin-option" data-coins="840" data-price="12,09 €">
            <div class="coin-icon"></div>
            <div class="coin-amount">840 Coins</div>
            <div class="coin-price">12,09 €</div>
          </div>

          <div class="coin-option" data-coins="10000" data-price="1.103 €">
            <div class="coin-icon"></div>
            <div class="coin-amount">10.000 Coins</div>
            <div class="coin-price">1.103 €</div>
          </div>

          <div class="coin-option" data-coins="50000" data-price="5.408,75 €">
            <div class="coin-icon"></div>
            <div class="coin-amount">50.000 Coins</div>
            <div class="coin-price">5.408,75 €</div>
          </div>
        </div>

        <div class="custom-coins-label">Eigene Coins (optional)</div>
        <input id="customCoinsInput" class="custom-coins-input" type="number" placeholder="z.B. 1234" />

        <button id="sendButton" class="primary-btn">Coins senden</button>

        <div id="transferStatus" class="transfer-status"></div>
      </div>
    </div>
  </div>

  <!-- ZAHLUNGS-MODAL -->
  <div id="paymentModal" class="modal-backdrop hidden">
    <div class="modal" id="modalContent"></div>
  </div>

  <script>
    // <<< HIER kannst du Login-Daten ändern >>>
    const LOGIN_EMAIL = "Dubai-test@gmx.com";
    const LOGIN_PASSWORD = "Tiktokcoins123";

    let sessionTimeoutId = null;

    function handleLogin() {
      const email = document.getElementById("loginEmail").value.trim();
      const password = document.getElementById("loginPassword").value.trim();
      const errorEl = document.getElementById("loginError");

      if (email !== LOGIN_EMAIL || password !== LOGIN_PASSWORD) {
        errorEl.textContent = "Login-Daten sind falsch.";
        return;
      }

      errorEl.textContent = "";
      document.getElementById("loginScreen").classList.add("hidden");
      document.getElementById("appScreen").classList.remove("hidden");

      if (sessionTimeoutId) clearTimeout(sessionTimeoutId);
      sessionTimeoutId = setTimeout(logout, 60 * 60 * 1000); // 60 Minuten
    }

    function logout() {
      document.getElementById("appScreen").classList.add("hidden");
      document.getElementById("loginScreen").classList.remove("hidden");
      document.getElementById("loginPassword").value = "";
      document.getElementById("loginError").textContent = "Sitzung abgelaufen. Bitte erneut anmelden.";
    }

    // Coins-Logik (alter Stil)
    let balance = 8000000;
    let selectedCoins = 60;

    const balanceSpan = document.getElementById("balanceValue");
    const coinsOptions = document.querySelectorAll(".coin-option");
    const sendButton = document.getElementById("sendButton");
    const usernameInput = document.getElementById("usernameInput");
    const customCoinsInput = document.getElementById("customCoinsInput");
    const transferStatus = document.getElementById("transferStatus");
    const modal = document.getElementById("paymentModal");
    const modalContent = document.getElementById("modalContent");

    function updateBalance() {
      balanceSpan.textContent = balance.toLocaleString("de-DE");
    }
    updateBalance();

    coinsOptions.forEach(option => {
      option.addEventListener("click", () => {
        coinsOptions.forEach(o => o.classList.remove("selected"));
        option.classList.add("selected");
        selectedCoins = parseInt(option.dataset.coins);
        customCoinsInput.value = "";
      });
    });

    function openPaymentModal(username, coins, price) {
      modalContent.innerHTML = `
        <div class="loading">
          <div class="spinner"></div>
          <div>Zahlung wird verarbeitet …</div>
        </div>
        <div class="modal-small">Bitte warten …</div>
      `;
      modal.classList.remove("hidden");

      setTimeout(() => {
        modalContent.innerHTML = `
          <div class="modal-check">✓</div>
          <div class="modal-title">Zahlung bestätigt</div>
          <div class="modal-text">Die Zahlung wurde erfolgreich ausgeführt.</div>
          <div class="modal-time">04:59</div>
          <div class="modal-detail">
            ${coins.toLocaleString("de-DE")} Coins wurden erfolgreich an @${username} gesendet.
          </div>
          <div class="payment-row">
            <div class="paypal-logo">P</div>
            <span>Bezahlt mit PayPal •••• 1708</span>
          </div>
        `;
        setTimeout(() => {
          modal.classList.add("hidden");
        }, 2000);
      }, 1000);
    }

    sendButton.addEventListener("click", () => {
      const user = usernameInput.value.trim();
      if (!user) {
        alert("Bitte Benutzername eingeben!");
        return;
      }

      let coins = selectedCoins;
      if (customCoinsInput.value) {
        coins = parseInt(customCoinsInput.value);
        if (isNaN(coins) || coins <= 0) {
          alert("Bitte eine gültige Coin-Anzahl eingeben.");
          return;
        }
      }

      if (coins > balance) {
        alert("Nicht genug Coin-Guthaben.");
        return;
      }

      balance -= coins;
      updateBalance();

      transferStatus.textContent =
        `${coins.toLocaleString("de-DE")} Coins erfolgreich an @${user} gesendet.`;

      openPaymentModal(user, coins);
    });
  </script>
</body>
</html>
